<!-- app/views/caronas/edit.html.erb -->
<%= stylesheet_link_tag "bootstrap.css" %>
<% if notice %>
        <div class="notice d-flex justify-content-center align-items-center m-5">
                <%= notice %>
        </div>
<% end %>
<div class="d-flex justify-content-center align-items-center">
        
        <div class="center-content">
                <%= render 'form', carona: @carona do %>
                <% end %>
        </div>
        <div>

        <div class="d-flex justify-content-center align-items-center center-content">
                <div class="d-flex justify-content-center center-content align-items-center flex-column">
                        <h2 class="m-4">Paradas</h2>
                        <% if @carona.paradas.any? %>
                                <div class="paradas">
                                        <% @carona.paradas.each do |parada| %>
                                                <div class="parada form-group p-2 d-flex justify-content-center align-items-center">
                                                        <div><%= parada.local %></div>
                                                        <div>
                                                                <%= button_to 'Remover', [@carona, parada], method: :delete, data: { confirm: 'Tem certeza que deseja remover esta parada?' }, class: 'btn btn-danger', :form => { :action => carona_path(@carona), :method => :get } %>
                                                        </div>
                                                </div>
                                        <% end %>
                                </div>
                        <% else %>
                                <p>Nenhuma parada encontrada.</p>
                        <% end %>
                </div>
        </div>

                <h2>Adicionar Parada</h2>
                <%= form_for([@carona, Parada.new]) do |f| %>
                        <div class="form-group p-2">
                                <%= f.label :local, class: "text-center" %>
                                <%= f.text_field :local, class: "form-control"%>
                        </div>


                        <div class="form-group p-2 d-flex justify-content-center m-5">
                                <%= f.submit 'Adicionar Parada', class: 'btn btn-primary' %>
                        </div>
                <% end %>
                </div>
        </div>        
</div>  
<div class="d-flex justify-content-center">
        <div class="form-group">
                <%= link_to 'Visualizar', @carona, class: 'btn btn-primary' %>
                <%= link_to 'Voltar para Listagem', caronas_path, class: 'btn btn-secondary' %>
        </div>
</div>